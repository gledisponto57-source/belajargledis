<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belajar bareng Gledis ‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff85a2;
            --secondary: #fce4ec;
            --accent: #ff4081;
            --text: #4a4a4a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }

        body {
            background-color: #fff5f8;
            color: var(--text);
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
            background: white;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid var(--secondary);
            box-shadow: 0 2px 10px rgba(255, 133, 162, 0.1);
        }

        header h1 { color: var(--primary); font-size: 1.5rem; }

        #chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .bubble {
            max-width: 85%;
            padding: 15px;
            border-radius: 20px;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .ai-bubble {
            background: white;
            align-self: flex-start;
            border: 1px solid var(--secondary);
            border-bottom-left-radius: 5px;
        }

        .user-bubble {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .tutor-label {
            font-size: 0.7rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
            display: block;
        }

        .voice-btn {
            background: var(--secondary);
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: 0.3s;
        }

        .voice-btn:hover { background: var(--primary); color: white; }

        #menu-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 20px;
            background: white;
            border-top: 1px solid var(--secondary);
        }

        .menu-btn {
            background: var(--secondary);
            border: none;
            padding: 12px;
            border-radius: 12px;
            color: var(--accent);
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: 0.2s;
        }

        .menu-btn:active { transform: scale(0.95); background: var(--primary); color: white; }

        .loading { font-style: italic; color: #aaa; font-size: 0.8rem; padding: 10px; }
    </style>
</head>
<body>

<header>
    <h1>‚ú® Belajar bareng Gledis ‚ú®</h1>
</header>

<div id="chat-container">
    <div class="bubble ai-bubble">
        <span class="tutor-label">Tutor Gledis</span>
        Halo Gledis! Aku sudah siap jadi asisten belajarmu. Mau mulai dari mana hari ini? üå∏
    </div>
</div>

<div id="menu-container">
    <button class="menu-btn" onclick="askAI('Berikan 3 kosakata harian bahasa Inggris beserta artinya')">üìñ Daily Vocab</button>
    <button class="menu-btn" onclick="askAI('Ajak aku latihan percakapan bahasa Inggris singkat')">üí¨ Speaking Lab</button>
    <button class="menu-btn" onclick="askAI('Berikan 1 kuis grammar singkat')">‚úèÔ∏è Quiz Time</button>
    <button class="menu-btn" onclick="askAI('Berikan kata-kata motivasi belajar hari ini')">üíñ Motivation</button>
</div>

<script>
    const API_KEY = "AIzaSyA0uDYtASHwuz5L05ocNqEUnothYE0rkKc"; 
    const chatContainer = document.getElementById('chat-container');

    async function askAI(message) {
        addBubble(message, 'user-bubble');
        
        const loadingId = "loading-" + Date.now();
        const loadingDiv = document.createElement('div');
        loadingDiv.id = loadingId;
        loadingDiv.className = "loading";
        loadingDiv.innerText = "Tutor Gledis sedang mengetik...";
        chatContainer.appendChild(loadingDiv);
        chatContainer.scrollTop = chatContainer.scrollHeight;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: `Kamu adalah Tutor Gledis, asisten belajar bahasa Inggris yang ramah dan aesthetic. Jawab dengan singkat dan beri dukungan. Materi: ${message}` }] }]
                })
            });

            const data = await response.json();
            const aiText = data.candidates[0].content.parts[0].text;
            
            document.getElementById(loadingId).remove();
            addBubble(aiText, 'ai-bubble', true);
        } catch (error) {
            document.getElementById(loadingId).innerText = "Ups, sepertinya ada masalah koneksi!";
        }
    }

    function addBubble(text, className, isAI = false) {
        const div = document.createElement('div');
        div.className = `bubble ${className}`;
        
        let content = "";
        if (isAI) content += `<span class="tutor-label">Tutor Gledis</span>`;
        content += text.replace(/\n/g, '<br>');
        
        if (isAI) {
            content += `<button class="voice-btn" onclick="speak('${text.replace(/'/g, "\\'").replace(/\n/g, " ")}')">üîä</button>`;
        }
        
        div.innerHTML = content;
        chatContainer.appendChild(div);
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function speak(text) {
        const synth = window.speechSynthesis;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US'; 
        utterance.rate = 0.9;
        synth.speak(utterance);
    }
</script>

</body>
</html>

        <div onclick="mulaiBelajar('Jelaskan 5 Tenses Dasar (Present, Past, Future, Continuous, Perfect) dengan rumus simpel dan contoh kalimat yang mudah dipahami')" class="materi-card p-4 flex items-center shadow-sm">
            <div class="w-12 h-12 bg-pink-50 rounded-xl flex items-center justify-center text-2xl mr-4">‚è≥</div>
            <div class="flex-1">
                <h3 class="font-bold text-slate-700 text-sm">5 Tenses Dasar</h3>
                <p class="text-[10px] text-slate-400 font-light italic">Rumus simpel anti pusing</p>
            </div>
            <i class="fas fa-heart text-pink-200"></i>
        </div>
    </div>

    <div id="output-area" class="px-6 mt-8 hidden">
        <div class="glass-card p-6 mb-10 border-t-4 border-t-pink-400">
            <div class="flex items-center justify-between mb-4">
                <span class="text-[9px] bg-pink-500 text-white px-3 py-1 rounded-full font-bold tracking-tighter uppercase">Tutor Gledis</span>
            </div>
            <div id="ai-response" class="text-slate-700 text-sm leading-relaxed whitespace-pre-line font-light"></div>
        </div>
    </div>

    <div class="fixed bottom-0 w-full bg-white/80 backdrop-blur-lg px-10 py-5 flex justify-between items-center border-t border-pink-100 rounded-t-[2.5rem] shadow-2xl">
        <div class="text-pink-600"><i class="fas fa-home text-xl"></i></div>
        <div class="text-slate-300"><i class="fas fa-search text-xl"></i></div>
        <div class="text-slate-300"><i class="fas fa-bookmark text-xl"></i></div>
        <div class="text-slate-300"><i class="fas fa-user-circle text-xl"></i></div>
    </div>

    <script>
        // API KEY GLEDIS SUDAH TERPASANG OTOMATIS
        const GLEDIS_API_KEY = "AIzaSyA0uDYtASHwuz5L05ocNqEUnothYE0rkKc";

        async function mulaiBelajar(materi) {
            const outputArea = document.getElementById('output-area');
            const aiResponse = document.getElementById('ai-response');
            outputArea.classList.remove('hidden');
            aiResponse.innerHTML = "<div class='flex flex-col items-center py-6'><div class='animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mb-2'></div><p class='text-[10px] text-pink-400 italic'>Gledis lagi siapin materinya buat kamu...</p></div>";
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GLEDIS_API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Kamu adalah Gledis, tutor bahasa inggris aesthetic. Jelaskan tentang ${materi}. Gunakan bahasa yang ramah, pakai banyak emoji, buatkan tabel jika perlu, dan kasih motivasi di akhir.` }] }]
                    })
                });
                const data = await response.json();
                aiResponse.innerText = data.candidates[0].content.parts[0].text;
            } catch (error) {
                aiResponse.innerText = "Duh, sistem Gledis lagi error. Coba cek internet kamu ya!";
            }
        }
    </script>
</body>
</html>
